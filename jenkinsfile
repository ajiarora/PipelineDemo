pipeline {
    agent any
    stages {
        stage('Build Step 1') {
            steps {
                sh 'echo "Hello World"'
                sh '''
                    echo "fetch the source code from the directory path $env.DIRECTORY_PATH specified by the environment variable"
                '''
            }
        }
		stage('Build Step 2') {
            steps {
                sh '''
                    echo "compile the code and generate any necessary artifacts"
                '''
            }
        }
		stage('Test') {
            steps {
                sh '''
                    echo "unit tests"
					echo "integration tests"
                '''
            }
        }
		stage('Code Quality Check') {
            steps {
                sh '''
                    echo "check the quality of the code"
                '''
            }
        }
		stage('Deploy') {
            steps {
                sh '''
                    echo "deploy the application to a testing environment specified by the environment variable"
                '''
            }
        }
		stage('Approval') {
            steps {
                sh '''
                    echo "Waiting for approval by manager"
					sleep 10
                '''
            }
        }
		stage('Deploy to Production') {
            steps {
                sh '''
                    echo "Deploying application from test environment $env.TESTING_ENVIRONMENT to production environment $env.PRODUCTION_ENVIRONMENT"
                '''
            }
        }
    }
}